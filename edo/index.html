<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Quiz Edo</title>
  <style>
    :root{--bg:#0f0f10;--card:#17171a;--card2:#1d1d22;--text:#fff;--muted:rgba(255,255,255,.78);
      --border:rgba(255,255,255,.10);--btn:#2a2a2e;--good:#2bff4a;--bad:#ff4b4b;}
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial}
    .wrap{max-width:560px;margin:0 auto;padding:16px}
    .host{display:flex;gap:12px;align-items:center;margin:10px 0 14px}
    .avatar{width:76px;height:76px;border-radius:18px;background:var(--card);border:1px solid var(--border);
      overflow:hidden;box-shadow:0 12px 26px rgba(0,0,0,.45)}
    .avatar img{width:100%;height:100%;object-fit:cover}
    .bubble{flex:1;background:var(--card);border:1px solid var(--border);border-radius:16px;padding:10px 12px;
      box-shadow:0 12px 26px rgba(0,0,0,.45)}
    .bubble b{display:block;margin-bottom:4px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:18px;padding:14px;
      box-shadow:0 14px 30px rgba(0,0,0,.50)}
    h1,h2{margin:8px 0}
    p{margin:10px 0;color:var(--muted);line-height:1.35}
    .q{font-size:18px;color:#fff;margin:10px 0 12px}
    .grid{display:grid;gap:10px}
    button{width:100%;padding:12px 14px;border:0;border-radius:14px;background:var(--btn);color:#fff;font-size:16px;
      box-shadow:0 10px 22px rgba(0,0,0,.35);text-align:left}
    button:active{transform:translateY(1px)}
    .meta{display:flex;justify-content:space-between;align-items:center;margin-top:10px;color:var(--muted);font-size:13px}
    .pill{padding:6px 10px;border-radius:999px;background:var(--card2);border:1px solid var(--border)}
    .right{color:var(--good);font-weight:800}
    .wrong{color:var(--bad);font-weight:800}
    .small{font-size:13px;color:var(--muted)}
    .codebox{margin-top:12px;padding:12px;border-radius:16px;background:#0b0b0c;border:1px solid var(--border);
      font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;letter-spacing:.18em;font-size:22px;
      color:var(--good);text-align:center;box-shadow:inset 0 0 0 2px rgba(43,255,74,.10)}
  </style>
</head>
<body>
  <div class="wrap" id="app"></div>

  <script>
    // 10 domande Edo (difficoltÃ  crescente) â€” rock + infermieristica + cultura/slang/consenso/legge (non esplicito)
    const questions = [
      { q:"Rock: 'Gimme Shelter' Ã¨ in quale album dei Rolling Stones?",
        a:["Let It Bleed","Sticky Fingers","Exile on Main St.","Beggars Banquet"], c:0 },
      { q:"Rock: quale album dei Black Sabbath (1971) Ã¨ spesso citato come base del doom metal?",
        a:["Master of Reality","Vol. 4","Paranoid","Sabotage"], c:0 },
      { q:"Infermieristica: la scala NEWS2 serve principalmente aâ€¦",
        a:["Stimare rischio caduta","Rilevare deterioramento clinico con parametri vitali","Valutare delirium","Misurare dolore cronico"], c:1 },
      { q:"Infermieristica: tra questi, quale Ã¨ un segno piÃ¹ tipico di stravaso/infiltrazione da accesso venoso periferico?",
        a:["Cute piÃ¹ calda ma asciutta","Gonfiore e dolore in sede dâ€™infusione","Brivido isolato","Sete aumentata"], c:1 },
      { q:"Cultura adult: nel gergo, 'aftercare' indica soprattuttoâ€¦",
        a:["Una pratica di igiene personale","Cura/attenzione reciproca dopo unâ€™attivitÃ  intensa o consensuale","Un tipo di terapia antibiotica","Una tecnica di ripresa video"], c:1 },
      { q:"Rock: il suono iconico di 'When the Levee Breaks' (Led Zeppelin) Ã¨ legato aâ€¦",
        a:["Keith Moon e Abbey Road","John Bonham e una scalinata (Headley Grange)","Dave Grohl e Sound City","Ringo Starr e Trident"], c:1 },
      { q:"Infermieristica: differenza chiave tra asepsi medica e chirurgica:",
        a:["Sono identiche","La chirurgica mira alla sterilitÃ  del campo","La medica richiede sempre guanti sterili","La chirurgica non prevede igiene mani"], c:1 },
      { q:"Cultura adult/legale: il concetto centrale che rende illecito condividere materiale intimo di altri Ã¨ soprattuttoâ€¦",
        a:["Lâ€™umorismo","Il consenso/assenza di consenso e tutela della persona","La qualitÃ  video","Il copyright musicale"], c:1 },
      { q:"Rock: chi Ã¨ associato al riff/intro di 'Money for Nothing' (Dire Straits)?",
        a:["Mark Knopfler","Brian May","Jimmy Page","Kurt Cobain"], c:0 },
      { q:"Infermieristica (sepsi): qual Ã¨ lâ€™approccio iniziale piÃ¹ coerente in sospetta sepsi?",
        a:["Solo antipiretico e osservazione","Emocolture + antibiotico precoce + lattato + fluidi se indicati",
           "Dimissione rapida se afebbrile","Solo RX torace prima di tutto"], c:1 },
    ];

    let idx=0, score=0;

    function header(text){
      return `
        <div class="host">
          <div class="avatar"><img src="giorgione.png" alt="Giorgione"></div>
          <div class="bubble"><b>Giorgione</b><div>${text}</div></div>
        </div>`;
    }

    function render(){
      const q = questions[idx];
      document.getElementById("app").innerHTML = `
        ${header(`Edo sei alla domanda ${idx+1}/10. Ne servono almeno 7 per ottenere il codice.`)}
        <div class="card">
          <h2>Quiz di Edo</h2>
          <div class="q">${q.q}</div>
          <div class="grid">
            ${q.a.map((t,i)=>`<button onclick="answer(${i})">${String.fromCharCode(65+i)}. ${t}</button>`).join("")}
          </div>
          <div class="meta">
            <div class="pill">Corrette: <b>${score}</b></div>
            <div class="pill">Domanda: <b>${idx+1}/10</b></div>
          </div>
        </div>`;
    }

    window.answer = (choice)=>{
      if(choice === questions[idx].c) score++;
      idx++;

      if(idx < questions.length) return render();

      if(score >= 7){
        document.getElementById("app").innerHTML = `
          ${header(`Promosso âœ… Hai fatto ${score}/10. Codice sbloccato.`)}
          <div class="card">
            <h2 class="right">CODICE EDO</h2>
            <div class="codebox">999</div>
            <p class="small">Ti porto alla cassaforteâ€¦ (Ricorda: prima LEI poi LUI)</p>
            <button onclick="goSafe()">Vai alla cassaforte</button>
          </div>`;
        setTimeout(goSafe, 1800);
      } else {
        document.getElementById("app").innerHTML = `
          ${header(`Nope ðŸ˜… ${score}/10. Ne servono almeno 7.`)}
          <div class="card">
            <h2 class="wrong">RIPROVA</h2>
            <button onclick="restart()">Rigioca</button>
          </div>`;
      }
    };

    function goSafe(){ location.href = "../safe/index.html?from=edo&code=999"; }
    function restart(){ idx=0; score=0; render(); }

    render();
  </script>
</body>
</html>
